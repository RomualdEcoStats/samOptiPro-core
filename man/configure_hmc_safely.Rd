% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnostics.R, R/hmc_wrappers.R
\name{configure_hmc_safely}
\alias{configure_hmc_safely}
\title{Sets up an HMC/NUTS configuration via {nimbleHMC}, compiles a fresh build,
runs a short MCMC, computes diagnostics, and (optionally) saves an Rhat bar plot.}
\usage{
configure_hmc_safely(
  build_fn,
  niter,
  nburnin,
  thin,
  monitors,
  nchains,
  out_dir = NULL
)

configure_hmc_safely(
  build_fn,
  niter,
  nburnin,
  thin,
  monitors,
  nchains,
  out_dir = NULL
)

configure_hmc_safely(
  build_fn,
  niter,
  nburnin,
  thin,
  monitors,
  nchains,
  out_dir = NULL
)
}
\arguments{
\item{build_fn}{A function returning a list with elements at least
\code{model} and \code{conf}; typically produced by your build pipeline.}

\item{niter}{Integer; total iterations.}

\item{nburnin}{Integer; warm-up iterations.}

\item{thin}{Integer; thinning interval.}

\item{monitors}{Character vector of root variable names to monitor.}

\item{nchains}{Integer; number of chains.}

\item{out_dir}{Character or \code{NULL}; if provided, figures are saved there.}
}
\value{
A list with components:
\itemize{
\item \code{conf}: the configured MCMC configuration,
\item \code{res}: runtime/samples from \code{.run_and_collect()},
\item \code{diag_tbl}: diagnostics computed by \code{compute_diag_from_mcmc()}.
}

list(ok, conf, res, diag_tbl, message)
}
\description{
Sets up an HMC/NUTS configuration via {nimbleHMC}, compiles a fresh build,
runs a short MCMC, computes diagnostics, and (optionally) saves an Rhat bar plot.

Configure + run HMC/NUTS safely and return diagnostics

Configure and run HMC/NUTS safely (wrapper)
Returns a list(conf, res, diag_tbl)
}
