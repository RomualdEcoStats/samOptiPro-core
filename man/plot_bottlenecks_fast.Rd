% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plots.R
\name{plot_bottlenecks_fast}
\alias{plot_bottlenecks_fast}
\title{Fast bottleneck plots (samplers-only) for large models}
\usage{
plot_bottlenecks_fast(
  diag_tbl,
  sampled_only = TRUE,
  conf.mcmc = NULL,
  samples_ml = NULL,
  out_dir = NULL
)
}
\arguments{
\item{diag_tbl}{A \code{data.frame} with at least column \code{target}. If present and finite,
metrics are taken from \code{AE_worst} (fallback to \code{AE_total}) and
\code{ESS_per_sec_worst} (fallback to \code{ESS_per_sec_total}).}

\item{sampled_only}{Logical (default \code{TRUE}). When \code{TRUE}, keep \strong{only} nodes
that are targets of configured samplers and also present in \code{samples_ml} columns.
If no node remains, the function raises an error (no permissive fallback).}

\item{conf.mcmc}{A Nimble MCMC configuration (result of \code{nimble::configureMCMC()}),
required when \code{sampled_only=TRUE}.}

\item{samples_ml}{A \code{coda::mcmc.list} (or compatible) holding posterior draws,
required when \code{sampled_only=TRUE}.}

\item{out_dir}{Optional output directory. When provided, saves:
\code{AE_median_by_family__samplers_only.png} and
\code{CE_median_by_family__samplers_only.png}.}
}
\value{
(invisible) A list with ggplot objects and summary tables:
\code{list(p_ae, p_ce, table_ae, table_ce)}.
}
\description{
Produces \strong{colored bar charts} for median \strong{AE (ESS/N)} and \strong{CE (ESS/s)}
by node family, \strong{restricted to nodes that are actually sampled} by the MCMC
configuration (strict "samplers only"). Designed for large models where
memory/time constraints require fast post-processing on a reduced subset.
}
\examples{
\dontrun{
conf <- nimble::configureMCMC(m)
res <- plot_bottlenecks_fast(
  diag_tbl   = diag_tbl,
  sampled_only = TRUE,
  conf.mcmc  = conf,
  samples_ml = samples_mla,
  out_dir    = "outputs/diagnostics_fast"
)
}
}
